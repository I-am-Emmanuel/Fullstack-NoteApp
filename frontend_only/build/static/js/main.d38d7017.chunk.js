(this.webpackJsonpdowstrademus_frontend=this.webpackJsonpdowstrademus_frontend||[]).push([[0],{15:function(e,t,a){},16:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(5),o=a.n(r),c=a(3),s=a(2);a(15);var i=()=>l.a.createElement("div",{className:"app-header"},l.a.createElement("h1",null,"Note List"));var m,u,p=e=>{let{note:t}=e;return l.a.createElement(c.b,{to:"/note/".concat(t.id)},l.a.createElement("div",{className:"notes-list-item"},l.a.createElement("h3",null,t.title)))};function d(){return(d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const h=e=>{let{svgRef:t,title:a,...n}=e;return l.a.createElement("svg",d({width:32,height:32,viewBox:"0 0 32 32",ref:t},n),void 0===a?m||(m=l.a.createElement("title",null,"add")):a?l.a.createElement("title",null,a):null,u||(u=l.a.createElement("path",{d:"M16.943 0.943h-1.885v14.115h-14.115v1.885h14.115v14.115h1.885v-14.115h14.115v-1.885h-14.115v-14.115z"})))},E=l.a.forwardRef((e,t)=>l.a.createElement(h,d({svgRef:t},e)));a.p;var v=()=>l.a.createElement(c.b,{to:"/note/new",className:"floating-button"},l.a.createElement(E,null));var g,f,y=()=>{let[e,t]=Object(n.useState)([]);Object(n.useEffect)(()=>{a()},[]);let a=async()=>{let e=await fetch("/notes/"),a=await e.json();console.log("DATA:",a),t(a)};return l.a.createElement("div",{className:"notes"},l.a.createElement("div",{className:"note-header"},l.a.createElement("h2",{className:"notes-title"},"\u2636 Notes"),l.a.createElement("p",{className:"notes-count"},e.length)),l.a.createElement("div",{className:"notes-list"},e.map((e,t)=>l.a.createElement(p,{key:t,note:e}))),l.a.createElement(v,null))};function b(){return(b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const w=e=>{let{svgRef:t,title:a,...n}=e;return l.a.createElement("svg",b({width:32,height:32,ref:t},n),void 0===a?g||(g=l.a.createElement("title",null,"chevron-left")):a?l.a.createElement("title",null,a):null,f||(f=l.a.createElement("path",{d:"M11 16l13-13v-3l-16 16 16 16v-3l-13-13z"})))},j=l.a.forwardRef((e,t)=>l.a.createElement(w,b({svgRef:t},e)));a.p;var O=()=>{let{id:e}=Object(s.q)(),t=Object(s.o)(),[a,r]=Object(n.useState)({title:"",content:""});Object(n.useEffect)(()=>{(async()=>{try{if("new"===e)return;let t=await fetch("/notes/".concat(e,"/"));if(t.ok){let e=await t.json();r(e)}else console.error("Failed to fetch note with ID ".concat(e))}catch(t){console.error("Error fetching note:",t)}})()},[e]);let o=async()=>{fetch("/notes/".concat(e,"/"),{method:"DELETE",headers:{"Content-Type":"application/json"}}),t("/")},c=async()=>{"new"!==e&&""===(a.content||a.title)?o():"new"!==e?await(async()=>{fetch("/notes/".concat(e,"/"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})})():"new"===e&&null!==(a.title&&a.content)&&(async()=>{fetch("/notes/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})})(),t("/")};return l.a.createElement("div",{className:"note"},l.a.createElement("div",{className:"note-header"},l.a.createElement("h3",null,l.a.createElement(j,{onClick:c})),"new"!==e?l.a.createElement("button",{onClick:o},"Delete"):l.a.createElement("button",{onClick:c},"Done")),l.a.createElement("input",{type:"text",placeholder:"Note Title",value:a.title,onChange:e=>{r({...a,title:e.target.value})}}),l.a.createElement("textarea",{placeholder:"Note Content",value:a.content,onChange:e=>{r({...a,content:e.target.value})}}))};var N=()=>{const e=Object(s.o)(),[t,a]=Object(n.useState)({username:"",email:"",password:""}),[r,o]=Object(n.useState)(null),i=e=>{const{name:n,value:l}=e.target;a({...t,[n]:l})};return l.a.createElement("div",{className:"signup-page"},l.a.createElement("h1",null,"Sign Up"),r&&l.a.createElement("div",{className:"error"},r),l.a.createElement("form",{onSubmit:async a=>{a.preventDefault();try{const a=await fetch("/auth/users/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(201===a.status)e("/");else{const e=await a.json();o(e)}}catch(r){console.error("Error during registration:",r),o("An error occurred during registration")}}},l.a.createElement("input",{type:"text",name:"username",placeholder:"Username",value:t.username,onChange:i}),l.a.createElement("input",{type:"email",name:"email",placeholder:"Email",value:t.email,onChange:i}),l.a.createElement("input",{type:"password",name:"password",placeholder:"Password",value:t.password,onChange:i}),l.a.createElement("button",{type:"submit"},"Sign Up")),l.a.createElement("p",null,"Already have an account? ",l.a.createElement(c.b,{to:"/login"},"Log In")))};var S=()=>{const e=Object(s.o)(),[t,a]=Object(n.useState)({username:"",password:""}),r=e=>{const{name:n,value:l}=e.target;a({...t,[n]:l})};return l.a.createElement("div",{className:"login-page"},l.a.createElement("h1",null,"Log In"),l.a.createElement("form",{onSubmit:async a=>{a.preventDefault();try{200===(await fetch("https://your-djoser-login-endpoint",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).status?e("/dashboard"):console.error("Login failed")}catch(n){console.error("Error during login:",n)}}},l.a.createElement("input",{type:"text",name:"username",placeholder:"Username",value:t.username,onChange:r}),l.a.createElement("input",{type:"password",name:"password",placeholder:"Password",value:t.password,onChange:r}),l.a.createElement("button",{type:"submit"},"Log In")),l.a.createElement("p",null,"Don't have an account? ",l.a.createElement(c.b,{to:"/signup"},"Sign Up")))};var C=()=>l.a.createElement("div",{className:"app-header"},l.a.createElement("h1",null,"Welcome to Note App"));var T=function(){const e="/signup"===window.location.pathname,t="/login"===window.location.pathname,a=e||t?l.a.createElement(C,null):l.a.createElement(i,null);return l.a.createElement(c.a,null,l.a.createElement("div",{className:"container dark"},l.a.createElement("div",{className:"app"},a,l.a.createElement(s.c,null,l.a.createElement(s.a,{path:"/",element:l.a.createElement(y,null)}),l.a.createElement(s.a,{path:"note/:id",element:l.a.createElement(O,null)}),l.a.createElement(s.a,{path:"/signup",element:l.a.createElement(N,null)}),l.a.createElement(s.a,{path:"/login",element:l.a.createElement(S,null)})),e&&l.a.createElement("p",null,"Already have an account? ",l.a.createElement(c.b,{to:"/login"},"Log In")))))};o.a.createRoot(document.getElementById("root")).render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(T,null)))},6:function(e,t,a){e.exports=a(16)}},[[6,1,2]]]);
//# sourceMappingURL=main.d38d7017.chunk.js.map